# Arduino ソフトウェア開発練習プロジェクト

## プロジェクトの目的

会社のソフトウェア開発を調整していくためにフルスタックというか？，薄く広く知らないといけない．そのための開発練習．

## 現在の状況

### ハードウェア

- elegoo uno r3.
- 4 digit 7 segment
- 74hc595
- HC-SR04

### ソースコードとか

#### toool\arduino_serial_monitor

- シリアルモニターを表示させるツールをつくった．ハードコードできたない．

#### arduino\main.ino

- arduinoを使い超音波センサーで距離をはかってアクティブブザーと4 digit 7 segmentで表示するものをつくった． 
- データ層：生のデータ
- ビジネスロジック層：データの妥当性チェック
- プレゼンテーション層：UIというか7segmentとかブザーの処理の部分

### 開発環境

- arduino ide.

## 失敗

### 不具合

1. 画面などのoutput interfaceがうまく動作しなかった．
2. スイッチとかがうまく動作しなかった．
3. 超音波の周期がずれてきて昔の発した音を拾ってしまって間違えた距離を測ってしまった．（推測）（未解決）
4. 数字の表示がデジタル故，切り替わるスピードが早すぎると読みにくい．（未解決）

### 原因と改善

1. センサーの情報が返ってくるまで他の処理をストップさせていた．
    - delayを使わない．
    - 処理を後回しにする．
    - 特殊なピンがあった．
2. 物理的な問題でスイッチが高速でオンオフを繰り返していた
    - 数秒間のオンオフはまとめて一回の入力にする．

### 理解度

1. 割り込み制御
- 理解度☆★★★★
2. チャタリング対策
- 理解度☆★★★★


## 今後について

### やること

#### 追加したいもの

- 距離データにタイムスタンプを追加する．
- 得られたデータを分析するためにグラフなどを作れるようなツール．
- 条件つきコンパイルで異なるハードウェアに対して柔軟に対応する機能．
- 高レベルなプレゼンテーションレイヤーと低レベルなデータレイヤーに分離する．
これはログや分析用の正確な生のデータとＵＩを重視した嘘のデータとわけること．
- 条件付きコンパイルでデバッグ用のシリアルモニターを表示させるかわける．

#### 勉強

- 開発段階に応じて環境を変えることをできるようにする．
    - arduino ideからarduino cli, platform io,
    
        cmake, makefileなど移行してビルドシステムをカスタムしていく．
    - 条件付きコンパイル．
    - CIの設定のしかた．
- アーキテクチャ設計について理解できるようになる．
    - ハードやペリフェラルの変更に対応しやすいモジュール化
    - 抽象化・レイヤー化．


### check

- 開発段階に応じた環境構築であったり開発手法について，なにをなぜ失敗したか記録をつける．




claudeへ
日本語で対応してください．
readme.mdはclaude.mdを英語に翻訳したものなので読まなくていいです．
私が今日の仕事は終わりですと宣言したらclaude.mdの内容を英語に翻訳してREADME.mdに反映させてください．